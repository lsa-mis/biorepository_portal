<h1>Send Information Request</h1>

<%= form_with(model: @information_request, url: send_information_request_path(@information_request)) do |form| %>
  <% if @information_request.errors.any? %>
    <div class="text-danger">
    <h2><%= pluralize(@information_request.errors.count, "error") %></h2>
    <ul>
      <% @information_request.errors.each do |error| %>
        <li><%= error.full_message %></li>
      <% end %>
    </ul>
    </div>
  <% end %>
  <div>
    <%= form.label :send_to, "Select the Email Address *" %>
    <% @send_to.each do |email| %>
      <div>
        <%= check_box_tag 'information_request[send_to][]', email, @information_request.send_to&.include?(email), id: "send_to_#{email}" %>
        <%= label_tag "send_to_#{email}", email %>
      </div>
    <% end %>
  </div>
  <div>
    <p>
    Include Items from Checkout
    </p>
    <div class="form-check">
      <%= check_box_tag :include_items_from_checkout, '1', id: 'include_items_from_checkout' %>
      <%= label_tag 'include_items_from_checkout', 'Include Items from Checkout' %>
    </div>
    <div>Email Message *</div>
    <%= form.rich_text_area :question, required: true %>
  </div>
  <div class="mt-1 gap-1 d-flex flex-row justify-content-start align-items-center">
    <%= form.submit %>
    <button type="button" class="btn btn-secondary">Cancel</button>
  </div>
<% end %>
